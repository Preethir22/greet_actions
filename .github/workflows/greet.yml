jobs:
  greet-and-notify:
    runs-on: ubuntu-latest
    steps:
      - name: Print Greeting
        run: echo "Hello from GitHub Actions!"

      - name: Try Send Email
        id: send_email
        uses: dawidd6/action-send-mail@v3
        with:
          # email settings here...
        continue-on-error: true

      - name: Write Email Status
        run: |
          if [ ${{ steps.send_email.outcome }} == 'success' ]; then
            echo "Email Status: SUCCESS" > email_status.txt
          else
            echo "Email Status: FAILURE" > email_status.txt
          fi
      - name: Commit Status File
        uses: stefanzweifel/git-auto-commit-action@v4
        with:
          commit_message: "Update email status"
          file_pattern: email_status.txt
